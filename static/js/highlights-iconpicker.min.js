var myData,filteredIcons,tempIcon="",tempOrder=-1,modalIconListContainer=document.querySelector(".icon-list-container"),highlightsWrapper=document.querySelector("#highlights-wrapper"),highlightsField=document.querySelector('input[name="highlights"]'),highlightsObj=[],initialHighlightValue=highlightsField.value,highlightsObj=""!==initialHighlightValue?JSON.parse(initialHighlightValue):[],iconList=function(){modalIconListContainer.innerHTML="";for(var t=filteredIcons||myData,i=0;i<30;i++){var e=t[i],n=document.createElement("i"),a=document.createElement("div");n.addEventListener("click",function(t){return modalIconClassPicker(t)}),a.classList.add("col-2"),a.setAttribute("role","button"),n.classList.add(e,"fa","m-2"),n.style="font-size: 3rem",a.appendChild(n),modalIconListContainer.appendChild(a)}},addStory=(fetch("/static/js/fontawesome-v6.4.2.json").then(function(t){return t.json()}).then(function(t){myData=t.solid,iconList()}),function(t){t.preventDefault();t=0<highlightsObj.length?highlightsObj[highlightsObj.length-1].data_order:-1;highlightsObj.push({data_order:t+1,icon_class:"",description:""}),updateHighlightsWrapper()}),updateHighlightsWrapper=function(){0===highlightsObj.length&&highlightsObj.push({data_order:0,icon_class:"",description:""});var t=highlightsObj.map(function(t){var i=t.icon_class||"text-muted fa-cloud-arrow-up fa m-2",e=""===t.icon_class&&""===t.description.trim()&&1===highlightsObj.length?"d-none":"";return'<div data-order="'+t.data_order+'" class="row mb-4">\n      <div class="col-3">\n        <label for="icon-field-picker" class="h6">Icon</label>\n        <div class="border py-3 d-flex flex-column align-items-center justify-content-center">\n          <i class="fa fa-'+i+' m-2" style="font-size: 4rem;"></i>\n          <button id="icon-field-picker" class="btn btn-primary mt-3" onclick="iconSelector('+t.data_order+', event)" data-bs-toggle="modal" data-bs-target="#iconModal">Select an Icon</button>\n        </div>\n      </div>\n      <div class="col-8">\n        <label for="highlights-des-textarea" class="h6">Description</label>\n        <div class="form-group">\n          <textarea id="highlights-des-textarea" class="form-control" rows="7" maxlength="150" onkeyup="descriptionHandler('+t.data_order+', event)">'+t.description+'</textarea>\n        </div>\n      </div>\n      <div class="col-1 position-relative"><button type="button" class="btn-close p-3 position-absolute top-0 start-0 '+e+'" aria-label="Close" onclick="removeHighlight('+t.data_order+')"></button>\n      </div>\n    </div>'});highlightsWrapper.innerHTML=t.join(""),highlightsField.value=JSON.stringify(highlightsObj)},searchHandler=(updateHighlightsWrapper(),function(t){var i=t.target.value.toLowerCase();filteredIcons=myData.filter(function(t){return t.includes(i)}),iconList()}),iconSelector=function(t,i){i.preventDefault(),tempOrder=t},modalIconSelectBtn=function(){-1!==tempOrder&&highlightsObj.find(function(t){t.data_order===tempOrder&&(t.icon_class=tempIcon)}),updateHighlightsWrapper()},modalIconClassPicker=function(t){var i=t.target.classList[0].replace("fa-","");tempIcon===i?(tempIcon="",t.target.classList.remove("bg-primary","p-1")):(modalIconListContainer.childNodes.forEach(function(t){t.firstChild.classList.remove("bg-primary","p-1")}),tempIcon=i,t.target.classList.add("bg-primary","p-1"))},descriptionHandler=function(i,t){var e=highlightsObj.find(function(t){return t.data_order===i});e&&(e.description=t.target.value,highlightsField)&&(highlightsField.value=JSON.stringify(highlightsObj))},removeHighlight=function(i){var t=highlightsObj.findIndex(function(t){return t.data_order===i});-1!==t&&(highlightsObj.splice(t,1),highlightsObj.forEach(function(t,i){t.data_order=i}),updateHighlightsWrapper())};